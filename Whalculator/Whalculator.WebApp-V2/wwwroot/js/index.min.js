"use strict";function getResult(n,t){var r=[],i=0,u,f;for(u in variables)r[i]=`${u}=${variables[u]}`,i++;for(f in functions)r[i]=`${f}=${functions[f]}`,i++;r[i]=n;const e={input:r};fetch(`${apiURI}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(n=>n.json()).then(n=>{t(n.response)}).catch(n=>{console.error("ERROR",n)})}function printMessage(n,t){var i=getConsoleOutput();i.append($("<div />").addClass("output-text-container").append($("<div />").addClass("output-text-head").text(n)).append($("<div />").addClass("output-text").text(t)));$("#console-output-container").scrollTop(i[0].scrollHeight)}function printInput(n){printMessage("",n)}function printOutput(n){printMessage("ðŸ –",n)}function processResponse(n){var f=n.indexOf("="),t,i,e;if(f==-1)if(t=n.indexOf("\n"),t==-1)printOutput(n);else{i=n;do e=i.substring(0,t),printOutput(e),i=i.substring(t+1),t=i.indexOf("\n");while(t!=-1);printOutput(i)}else{var r=n.substring(0,f),u=n.substring(f+1),o=r.indexOf("(");o==-1?(variables[r]=u,putVariable(r,u)):(functions[r]=u,putFunction(r,u));printOutput(n)}}function getConsoleOutput(){return $("#console-output")}function getConsoleInput(n){return n?$("#console-input"):document.getElementById("console-input")}function putData(n,t,i){t=t.trim();i=i.trim();var f=`key-${t.hashCode()}`,e=$(`#${f}`),r,u;e.length==0?(u=$("<div />").addClass("data-display-container"),r=$(`<li id="${f}"/>`).addClass("data-display-container list-group-item").append(u)):(r=e,u=r.children().first());u.text(`${t} = ${i}`);n.append(r)}function putVariable(n,t){putData($("#variables-list"),n,t)}function putFunction(n,t){putData($("#functions-list"),n,t)}const apiURI="api/Calculator";var variables={},functions={};$(document).ready(function(){getConsoleInput(!0).keydown(function(n){var r=n.keyCode?n.keyCode:n.which,i,t;r!="13"||n.shiftKey||(i=getConsoleInput(!1),t=i.textContent,t.trim()==""||(i.textContent="",printInput(t),getResult(t,processResponse),n.preventDefault()))})});String.prototype.hashCode=function(){var n=0,i,t;if(this.length==0)return n;for(t=0;t<this.length;t++)i=this.charCodeAt(t),n=(n<<5)-n+i|0;return n};